import{A as w,B as I,C as B,D as L,E as W,F as S,G as g,H as M,I as X,J as Y,N as Z,P as ee,Q as te,R as U,U as O,V as x,X as ie,a as $,b as q,c as k,d as z,e as P,f as H,g as R,h as G,i as f,j as T,k as J,l as K,m as F,n as c,o as h,p as u,q as l,r as a,s as r,t as p,u as Q,v as b,w as v,x as D,y as s,z as d}from"./chunk-4R6MCSPB.js";var y=(()=>{let e=class e{constructor(i){this.http=i,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}}}getCountriesRequest(i){return this.http.get(i).pipe(k(n=>$([])))}searchCountryByAlphaCode(i){let n=`${this.apiUrl}/alpha/${i}`;return this.http.get(n).pipe(q(o=>o.length>0?o[0]:null),k(o=>$(null)))}searchCapital(i){let n=`${this.apiUrl}/capital/${i}`;return this.getCountriesRequest(n).pipe(P(o=>this.cacheStore.byCapital={term:i,countries:o}))}searchCountry(i){let n=`${this.apiUrl}/name/${i}`;return this.getCountriesRequest(n).pipe(P(o=>this.cacheStore.byCountries={term:i,countries:o}))}searchRegion(i){let n=`${this.apiUrl}/region/${i}`;return this.getCountriesRequest(n).pipe(P(o=>this.cacheStore.byRegion={region:i,countries:o}))}};e.\u0275fac=function(n){return new(n||e)(G(Y))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe=t=>["/countries/by",t];function me(t,e){t&1&&(a(0,"div",2),s(1,` No hay pa\xEDses que mostrar.
`),r())}function ue(t,e){if(t&1&&(a(0,"tr")(1,"td"),s(2),r(),a(3,"td"),s(4),r(),a(5,"td"),p(6,"img",5),r(),a(7,"td"),s(8),r(),a(9,"td"),s(10),r(),a(11,"td"),s(12),I(13,"number"),r(),a(14,"td")(15,"a",6),s(16," Info "),r()()()),t&2){let m=e.$implicit,i=e.index;c(2),d(" ",i+1," "),c(2),d(" ",m.flag," "),c(2),l("src",m.flags.svg,F),c(2),d(" ",m.name.common," "),c(2),d(" ",m.capital," "),c(2),d(" ",B(13,7,m.population)," "),c(3),l("routerLink",w(9,pe,m.cca3))}}function de(t,e){if(t&1&&(a(0,"table",3)(1,"thead")(2,"tr")(3,"th"),s(4,"#"),r(),a(5,"th"),s(6,"Icon"),r(),a(7,"th"),s(8,"Bandera"),r(),a(9,"th"),s(10,"Nombre"),r(),a(11,"th"),s(12,"Capital"),r(),a(13,"th"),s(14,"Poblacion"),r(),p(15,"th"),r()(),a(16,"tbody"),u(17,ue,17,11,"tr",4),r()()),t&2){let m=v();c(17),l("ngForOf",m.countries)}}var _=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["countries-country-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["alt","country.name.common",3,"src"],[3,"routerLink"]],template:function(n,o){if(n&1&&u(0,me,2,0,"div",1)(1,de,18,1,"ng-template",null,0,L),n&2){let E=D(2);l("ngIf",o.countries.length===0)("ngIfElse",E)}},dependencies:[S,g,te,M],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let t=e;return t})();function he(t,e){t&1&&p(0,"shared-loading-spinner")}var re=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(i){this.isLoading=!0,this.countriesService.searchCapital(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(h(y))},e.\u0275cmp=f({type:e,selectors:[["app-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital...",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Capital"),r(),p(2,"hr"),a(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return o.searchByCapital(V)}),r()()(),a(6,"div",0)(7,"div",1),p(8,"hr"),u(9,he,1,0,"shared-loading-spinner",3),p(10,"countries-country-table",4),r()()),n&2&&(c(5),l("initialValue",o.initialValue),c(4),l("ngIf",o.isLoading),c(),l("countries",o.countries))},dependencies:[g,O,x,_]});let t=e;return t})();function ge(t,e){t&1&&p(0,"shared-loading-spinner")}var oe=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(i){this.isLoading=!0,this.countriesService.searchCountry(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(h(y))},e.\u0275cmp=f({type:e,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs...",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Pa\xEDses"),r(),p(2,"hr"),a(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return o.searchByCountry(V)}),r()()(),a(6,"div",0)(7,"div",1),p(8,"hr"),u(9,ge,1,0,"shared-loading-spinner",3),p(10,"countries-country-table",4),r()()),n&2&&(c(5),l("initialValue",o.initialValue),c(4),l("ngIf",o.isLoading),c(),l("countries",o.countries))},dependencies:[g,O,x,_]});let t=e;return t})();var ye=t=>({"btn-outline-primary":t});function ve(t,e){if(t&1){let m=Q();a(0,"button",6),b("click",function(){let n=J(m).$implicit,o=v();return K(o.searchByRegion(n))}),s(1),r()}if(t&2){let m=e.$implicit,i=v();l("ngClass",w(2,ye,i.selectedRegion===m)),c(),d(" ",m," ")}}function Ce(t,e){t&1&&p(0,"shared-loading-spinner")}var ae=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(i){this.selectedRegion=i,this.countriesService.searchRegion(i).subscribe(n=>{this.countries=n})}};e.\u0275fac=function(n){return new(n||e)(h(y))},e.\u0275cmp=f({type:e,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(n,o){n&1&&(a(0,"h2"),s(1,"Por Regi\xF3n"),r(),p(2,"hr"),a(3,"div",0)(4,"div",1),u(5,ve,2,4,"button",2),r()(),a(6,"div",0)(7,"div",3),p(8,"hr"),u(9,Ce,1,0,"shared-loading-spinner",4),p(10,"countries-country-table",5),r()()),n&2&&(c(5),l("ngForOf",o.regions),c(4),l("ngIf",o.isLoading),c(),l("countries",o.countries))},dependencies:[W,S,g,x,_]});let t=e;return t})();function be(t,e){t&1&&(a(0,"div",11),s(1," Espere por favor "),r())}function Se(t,e){if(t&1&&(a(0,"div")(1,"div",2)(2,"div",12)(3,"h2"),s(4,"Pa\xEDs: "),a(5,"strong"),s(6),r()(),p(7,"hr"),r()()()),t&2){let m=v();c(6),d(" ",m.country.name.common," ")}}function xe(t,e){if(t&1&&(a(0,"span",13),s(1),r()),t&2){let m=e.$implicit;c(),d(" ",m.common," ")}}var se=(()=>{let e=class e{constructor(i,n,o){this.activatedRoute=i,this.countriesService=n,this.router=o}get translations(){return Object.values(this.country.translations)}ngOnInit(){this.activatedRoute.params.pipe(z(({id:i})=>this.countriesService.searchCountryByAlphaCode(i))).subscribe(i=>i?this.country=i:this.router.navigateByUrl(""))}};e.\u0275fac=function(n){return new(n||e)(h(Z),h(y),h(ee))},e.\u0275cmp=f({type:e,selectors:[["app-country-page"]],decls:29,vars:11,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],["class","badge bg-primary m-1",4,"ngFor","ngForOf"],[1,"alert","alert-info","text-center"],[1,"col-12"],[1,"badge","bg-primary","m-1"]],template:function(n,o){if(n&1&&(u(0,be,2,0,"ng-template",null,0,L)(2,Se,8,1,"div",1),a(3,"div",2)(4,"div",3)(5,"h3"),s(6,"Bandera"),r(),p(7,"img",4),r(),a(8,"div",5)(9,"h3"),s(10,"Informaci\xF3n"),r(),a(11,"ul",6)(12,"li",7)(13,"strong"),s(14,"Poblaci\xF3n"),r(),s(15),I(16,"number"),r()(),a(17,"ul",6)(18,"li",7)(19,"strong"),s(20,"C\xF3digo:"),r(),s(21),I(22,"number"),r()()()(),a(23,"div",8)(24,"div",5)(25,"h3"),s(26,"Traducciones"),r(),a(27,"div",9),u(28,xe,2,1,"span",10),r()()()),n&2){let E=D(1);c(2),l("ngIf",o.country)("ngIfElse",E),c(5),l("src",o.country==null||o.country.flags==null?null:o.country.flags.svg,F)("alt",o.country==null||o.country.name==null?null:o.country.name.common),c(8),d(" ",B(16,7,o.country==null?null:o.country.population),""),c(6),d(" ",B(22,9,o.country==null?null:o.country.ccn3),""),c(7),l("ngForOf",o.translations)}},dependencies:[S,g,M]});let t=e;return t})();var _e=[{path:"by-capital",component:re},{path:"by-country",component:oe},{path:"by-region",component:ae},{path:"by/:id",component:se},{path:"**",redirectTo:"by-capital"}],ce=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=T({type:e}),e.\u0275inj=R({imports:[U.forChild(_e),U]});let t=e;return t})();var We=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=T({type:e}),e.\u0275inj=R({imports:[X,ce,ie]});let t=e;return t})();export{We as CountriesModule};
